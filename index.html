<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>css-request-test</title>
    
    <style>
      body {
        margin: 5% 10%;
      }
    </style>
    
    <!-- use if IE 9++ and non-IE browsers -->
    <!--[if gt IE 9]><!--><script src='./js/img-css-request.js'></script><!--<![endif]-->
    <!-- fallback IE9 & below... -->
    <!--[if lte IE 9]><script src='./js/css-request.js'></script><![endif]-->  
        
  </head>
  <body>
    <p>
      <del>
        Page attempts to show that loading css via javascript can circumvent the Internet Explorer limit
      on number of link tags and/or @import url directives per stylesheet and in aggregate.
      </del>
      IE limit not solved here... yet.
    </p>
    <p>
      Page attempts to show that loading css via javascript can be managed by event callbacks using the img 
      prefecth trick.  Page uses script at https://github.com/dfkaye/css-request-test/js/img-css-request.js
    </p>
    <p>
      view this page in the raw at 
      <a href='http://rawgithub.com/dfkaye/css-request-test/master/index.html'>
        http://rawgithub.com/dfkaye/css-request-test/master/index.html
      </a>
    </p>
    <p>
      view repo at
      <a href='https://github.com/dfkaye/css-request-test/'>
        https://github.com/dfkaye/css-request-test/
      </a>
    </p>    
    <div id='sleepcgi-test' class='sleepcgi'>sleepcgi div gets restyled eventually</div>
    
    <script>
      
      requestCss('http://1.cuzillion.com/bin/resource.cgi?type=css&sleep=5&n=1&t='+ (+new Date()), function () {
        //console.log('DONE - sheet 1', arguments);
        document.getElementById('sleepcgi-test').innerHTML += '<br/>modified by 1.cuzillion';
      });

      requestCss('http://2.cuzillion.com/bin/resource.cgi?type=css&sleep=10&n=2&t='+ (+new Date()), function () {
        //console.log('DONE - sheet 2', arguments);
        document.getElementById('sleepcgi-test').innerHTML += '<br/>modified by 2.cuzillion';
      });
      
    </script>
  </body>
</html>
